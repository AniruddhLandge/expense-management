{"ast":null,"code":"// client/src/services/authService.js\n\n// export function isLoggedIn() {\n//   return !!localStorage.getItem('token');\n// }\n\n// export function logout() {\n//   localStorage.removeItem('token');\n// }\n\nimport jwtDecode from \"jwt-decode\";\nexport function isLoggedIn() {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return false;\n  try {\n    const decoded = jwtDecode(token);\n    // expiry check\n    return decoded.exp * 1000 > Date.now();\n  } catch (e) {\n    return false;\n  }\n}\nexport function getUser() {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return null;\n  try {\n    return jwtDecode(token);\n  } catch (e) {\n    return null;\n  }\n}\nexport function logout() {\n  localStorage.removeItem(\"token\");\n}\nexport default au;","map":{"version":3,"names":["jwtDecode","isLoggedIn","token","localStorage","getItem","decoded","exp","Date","now","e","getUser","logout","removeItem","au"],"sources":["C:/xampp/htdocs/expense-tracker-ai/client/src/services/authService.js"],"sourcesContent":["// client/src/services/authService.js\r\n\r\n// export function isLoggedIn() {\r\n//   return !!localStorage.getItem('token');\r\n// }\r\n\r\n// export function logout() {\r\n//   localStorage.removeItem('token');\r\n// }\r\n\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nexport function isLoggedIn() {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) return false;\r\n  try {\r\n    const decoded = jwtDecode(token);\r\n    // expiry check\r\n    return decoded.exp * 1000 > Date.now();\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function getUser() {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) return null;\r\n  try {\r\n    return jwtDecode(token);\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport default au"],"mappings":"AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAOA,SAAS,MAAM,YAAY;AAElC,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,KAAK;EACxB,IAAI;IACF,MAAMG,OAAO,GAAGL,SAAS,CAACE,KAAK,CAAC;IAChC;IACA,OAAOG,OAAO,CAACC,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;EACxC,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,KAAK;EACd;AACF;AAEA,OAAO,SAASC,OAAOA,CAAA,EAAG;EACxB,MAAMR,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;EACvB,IAAI;IACF,OAAOF,SAAS,CAACE,KAAK,CAAC;EACzB,CAAC,CAAC,OAAOO,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF;AAEA,OAAO,SAASE,MAAMA,CAAA,EAAG;EACvBR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;AAClC;AAEA,eAAeC,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}